(this.webpackJsonpel_cateo=this.webpackJsonpel_cateo||[]).push([[19],{101:function(e,a,t){"use strict";t(2),t(104);var n=t(3);function r(e){return Object(n.jsxs)("label",{htmlFor:e.inputId,className:e.className,children:[e.labelText," ",e.isRequired&&Object(n.jsx)("span",{className:"text-danger",children:"*"})]})}r.defaultProps={className:"form-label",isRequired:!1,labelText:""},a.a=r},103:function(e,a,t){"use strict";t.d(a,"a",(function(){return s}));var n=t(116),r=t.n(n),c=function(e,a){var t={status:!0,message:""};switch(!0){case/required/i.test(a):t.status=!r.a.isEmpty(e,{ignore_whitespace:!0}),t.message=!1===t.status?"The value is required!":"";break;case/float/i.test(a):""!==e&&(t.status=r.a.isFloat(e),t.message=!1===t.status?"The value needs to be a float!":"");break;case/email/i.test(a):""!==e&&(t.status=r.a.isEmail(e),t.message=!1===t.status?"The value needs to be an Email!":"");break;case/alpha/i.test(a):""!==e&&(t.status=r.a.isAlpha(e,"en-US",{ignore:" "}),t.message=!1===t.status?"The value needs to be only Alphabetic!":"");break;case/alphanumeric/i.test(a):""!==e&&(t.status=r.a.isAlphanumeric(e,"en-US",{ignore:" "}),t.message=!1===t.status?"The value needs to be AlphaNumeric!":"");break;case/numeric/i.test(a):""!==e&&(t.status=r.a.isNumeric(e),t.message=!1===t.status?"The value needs to be only Numeric!":"");break;case/equals:*/i.test(a):if(""!==e){var n=a.split(":");t.status=r.a.equals(e,n[2]),t.message=!1===t.status?"The value needs to be same as ".concat(n[1],"!"):""}break;default:t.status=!0,t.message=""}return t},s=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t={status:!0,message:""};return a.forEach((function(a){var n=c(e,a);t.status=t.status&&n.status,t.message+=" "+n.message,t.message=t.message.trim()})),t}},104:function(e,a,t){},106:function(e,a,t){"use strict";t(2),t(108);var n=t(3);a.a=function(e){var a=e.header,t=e.data;return Object(n.jsx)("div",{className:"table-responsive",children:Object(n.jsxs)("table",{className:"table m-0",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{className:"text-center",children:"#"}),a.length>0?a.map((function(e,a){return Object(n.jsx)("th",{className:"text-center",children:e},a)})):""]})}),Object(n.jsx)("tbody",{children:0===t.length?Object(n.jsx)("tr",{children:Object(n.jsx)("td",{colSpan:1+a.length,className:"text-center",children:"No Record found"})}):t.map((function(e,a){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{className:"text-center",children:a+1}),Object.keys(e).map((function(a,t){return Object(n.jsx)("td",{className:"text-center",children:e[a]},t)}))]},a)}))})]})})}},108:function(e,a,t){},117:function(e,a,t){"use strict";var n=t(39),r=t(2),c=t(37),s=t.n(c),l=t(128),i=(t(118),t(101)),o=t(103),u=t(3);function d(e){var a,t=Object(r.useState)(null),c=Object(n.a)(t,2),d=c[0],m=c[1],b=function(a){var t=Object(o.a)(a||"",e.validations);!1===t.status?e._handleFormValidation(e.name,t):e._handleFormValidation(e.name,null)};return Object(r.useEffect)((function(){b()}),[]),Object(r.useEffect)((function(){null===d&&m(e.value)}),[e.value]),Object(u.jsxs)(u.Fragment,{children:[!e.hideLabel&&Object(u.jsx)(i.a,{inputId:e.id,labelText:e.placeholder,isRequired:e.isRequired}),Object(u.jsx)(l.a,{id:e.id,className:"".concat(e.className||""," basic-single"),classNamePrefix:"select",styles:{control:function(){return{WebkitAlignItems:"center",WebkitBoxAlign:"center",msFlexAlign:"center",alignItems:"center",backgroundColor:"hsl(0, 0%, 100%)",borderColor:e.formValidationData[e.name]&&!1===e.formValidationData[e.name].status?"#dc3545":"hsl(0, 0%, 80%)",borderRadius:"4px",borderStyle:"solid",borderWidth:"1px",cursor:"default",display:["-webkit-box","-webkit-flex","-ms-flexbox","flex"],WebkitBoxFlexWrap:"wrap",WebkitFlexWrap:"wrap",msFlexWrap:"wrap",flexWrap:"wrap",WebkitBoxPack:"justify",WebkitJustifyContent:"space-between",justifyContent:"space-between",minHeight:"38px",outline:"0 !important",position:"relative",WebkitTransition:"all 100ms",transition:"all 100ms",boxiSizing:"border-box"}}},defaultValue:e.defaultValue,value:d,isLoading:!1,isDisabled:null!==(a=e.disabled)&&void 0!==a&&a,isSearchable:!0,isMulti:e.isMultiple,name:e.name,options:e.options,onInputChange:function(a){e.onInputChange(a)},onChange:function(a,t){var n="";return n=Array.isArray(a)&&a.length>0?s.a.chain(a).map((function(e){return e.value})).value():a.value,m(a),e.onChange({currentTarget:{name:t.name,value:n}})},onBlur:function(e){return b(e.currentTarget.value)}}),e.formValidationData[e.name]&&!1===e.formValidationData[e.name].status&&Object(u.jsx)("div",{className:"invalid-feedback d-block",children:e.formValidationData[e.name].message})]})}d.defaultProps={isMultiple:!1,isRequired:!1,hideLabel:!1,validations:[],formValidationData:{},_handleFormValidation:function(){}},a.a=d},118:function(e,a,t){},120:function(e,a,t){"use strict";t.d(a,"a",(function(){return r}));var n=t(26);function r(e,a){if(null==e)return{};var t,r,c=Object(n.a)(e,a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)t=s[r],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(c[t]=e[t])}return c}},137:function(e,a,t){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}t.d(a,"a",(function(){return n}))},241:function(e,a,t){"use strict";t(2);var n=t(57),r=t(117),c=t(5),s=t(28),l=t(106),i=t(3);var o=function(e){var a=e.formData,t=e._handleOnChange,r=e._checkFolialDrenche,o=e._checkManual;return Object(i.jsx)("div",{className:"card mb-3",children:Object(i.jsx)("div",{className:"card-body",children:Object(i.jsx)("div",{className:"row",children:Object(i.jsxs)("div",{className:"border border-2 rounded",children:[Object(i.jsx)(l.a,{data:a.rawMaterials&&[].concat(Object(s.a)(a.rawMaterials.map((function(e,s){return Object(c.a)(Object(c.a)(Object(c.a)({name:e.rawMaterial.name,quantity:"".concat(e.quantity," ").concat(n.h[e.unit]),quantityAvailable:r()&&0!==s||o()?Object(i.jsx)("span",{className:e.rawMaterial.quantityAvailable<e.quantity?"text-danger":"",children:"".concat(e.rawMaterial.quantityAvailable," ").concat(n.h[e.unit])}):""},r()?{totalMethodBased:"".concat(e.quantity/1e3*(n.i[parseInt(a.methodId)].value/1e3))+" "+n.i[parseInt(a.methodId)].totalunit}:{}),o()?{totalTree:"".concat(e.quantity*(a.id?a.totalTrees:a.zone.treeCount)," ").concat(n.h[e.unit])}:{}),{},{changedQuantity:r()&&0!==s||o()?Object(i.jsx)("input",{type:"text",name:"changedQuantity",value:e.changedQuantity||"",onChange:function(e){return t(e,["rawMaterials",s])}}):""})}))),Object(s.a)(r()?[{name:"",quantity:"",quantityAvailable:"Total:",totalMethodBased:"".concat(function(){var e=0;return a.rawMaterials.forEach((function(t){e+=parseFloat(t.quantity/1e3)*parseFloat(n.i[parseInt(a.methodId)].value/1e3)})),0===e?0:Math.floor(e)}()," ").concat(n.h.totalunit),changedQuantity:""}]:[])),header:["Material","Quantity","Quantity Available"].concat(Object(s.a)(r()?["Total X ".concat(n.i[parseInt(a.methodId)].actualName)]:[]),Object(s.a)(o()?["Total"]:[]),["Change Quantity"])}),r()&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("h4",{className:"text-secondary text-center pt-2",children:["You will need to prepare"," ",a.totalTrees*a.amountPerTree/(n.i[parseInt(a.methodId)].value/1e3)," ",n.i[parseInt(a.methodId)].actualName," of"," ",n.i[parseInt(a.methodId)].value/1e3," Lts to cover"," ",a.id?a.totalTrees:a.zone.treeCount," ","trees"]}),Object(i.jsxs)("h6",{className:"text-secondary text-center pt-2",children:["(",a.totalTrees," trees * ",a.amountPerTree," Lts ) / ",n.i[parseInt(a.methodId)].value/1e3," Lts  = ",a.totalTrees*a.amountPerTree/(n.i[parseInt(a.methodId)].value/1e3)," ",n.i[parseInt(a.methodId)].actualName]})]})]})})})})};a.a=function(e){var a=e.formData,t=e._handleOnChange,c=e.collaborators,s=e._fetchAllCollaborators,l=e.zones,u=e._fetchAllZones,d=e.sectors,m=e._fetchAllSectors,b=e.agriculturalPractices,j=e._fetchAllAgriculturalPractices,h=function(){return[0,2].indexOf(parseInt(a.agriculturalPractice.method))>-1};return Object(i.jsxs)(i.Fragment,{children:[a.id?Object(i.jsx)("input",{type:"hidden",value:a.id}):"",Object(i.jsxs)("div",{className:"mb-3",children:[Object(i.jsxs)("label",{htmlFor:"input2",className:"form-label",children:["Collaborator ",Object(i.jsx)("span",{className:"text-danger",children:"*"})]}),Object(i.jsx)(r.a,{id:"input2",value:a.collaborator&&a.collaborator.id?{value:a.collaborator.id,label:a.collaborator.name}:null,name:"collaboratorId",options:c.map((function(e){return{value:e.id,label:e.name}})),onInputChange:s,onChange:function(e){t(e),t({currentTarget:{name:"collaborator",value:c[c.map((function(e){return e.id})).indexOf(e.currentTarget.value)]}})}})]}),Object(i.jsxs)("div",{className:"mb-3",children:[Object(i.jsxs)("label",{htmlFor:"",className:"form-label",children:["Choose Zone/Sector ",Object(i.jsx)("span",{className:"text-danger",children:"*"})]}),Object(i.jsxs)("div",{className:"input-group pb-2",children:[Object(i.jsxs)("div",{className:"input-group-text",children:[Object(i.jsx)("input",{className:"form-check-input mt-0",type:"radio",name:"selectRegion",value:"Z","aria-label":"Zone",checked:"Z"===a.selectRegion,onChange:t})," ","\xa0 Zone"]}),Object(i.jsx)(r.a,{className:"form-control",disabled:"Z"!==a.selectRegion,value:a.zone&&a.zone.id?{value:a.zone.id,label:a.zone.name}:null,name:"zoneId","aria-label":"Select a Zone",options:l.map((function(e){return{value:e.id,label:e.name}})),onInputChange:u,onChange:function(e){t(e),t({currentTarget:{name:"zone",value:l[l.map((function(e){return e.id})).indexOf(e.currentTarget.value)]}})}})]}),Object(i.jsxs)("div",{className:"input-group pt-2",children:[Object(i.jsxs)("div",{className:"input-group-text",children:[Object(i.jsx)("input",{className:"form-check-input mt-0",type:"radio",name:"selectRegion",value:"S","aria-label":"Sector",checked:"S"===a.selectRegion,onChange:t})," ","\xa0 Sector"]}),Object(i.jsx)(r.a,{className:"form-control",disabled:"S"!==a.selectRegion,value:a.sector&&a.sector.id?{value:a.sector.id,label:a.sector.name}:null,name:"sectorId","aria-label":"Select a Sector",options:d.map((function(e){return{value:e.id,label:e.name}})),onInputChange:m,onChange:function(e){t(e),t({currentTarget:{name:"sector",value:d[d.map((function(e){return e.id})).indexOf(e.currentTarget.value)]}})}})]})]}),Object(i.jsxs)("div",{className:"mb-3",children:[Object(i.jsxs)("label",{htmlFor:"input2",className:"form-label",children:["Agricultural Practice ",Object(i.jsx)("span",{className:"text-danger",children:"*"})]}),Object(i.jsx)(r.a,{id:"input2",value:a.agriculturalPractice&&a.agriculturalPractice.id?{value:a.agriculturalPractice.id,label:a.agriculturalPractice.formulationName}:null,name:"agriculturalPracticeId",options:b.map((function(e){return{value:e.id,label:e.formulationName}})),onInputChange:j,onChange:function(e){var a=b[b.map((function(e){return e.id})).indexOf(e.currentTarget.value)],n=[];a.rawMaterials.forEach((function(e){n.push({rawMaterialId:e.rawMaterialId,quantity:e.quantity,unit:e.unit,rawMaterial:e.rawMaterial,changedQuantity:""})})),t(e),t({currentTarget:{name:"methodId",value:0}}),t({currentTarget:{name:"amountPerTree",value:0}}),t({currentTarget:{name:"agriculturalPractice",value:a}}),t({currentTarget:{name:"rawMaterials",value:n}})}})]}),h()&&Object(i.jsxs)("div",{className:"row mb-3",children:[Object(i.jsxs)("div",{className:"col",children:[Object(i.jsxs)("label",{htmlFor:"input9",className:"form-label",children:["Method ",Object(i.jsx)("span",{className:"text-danger",children:"*"})]}),Object(i.jsx)("select",{id:"input9",className:"form-select",name:"methodId",onChange:t,value:parseInt(a.methodId),children:Object.keys(n.i).map((function(e,a){return Object(i.jsx)("option",{value:e,children:n.i[e].name},a)}))})]}),Object(i.jsxs)("div",{className:"col",children:[Object(i.jsxs)("label",{htmlFor:"input10",className:"form-label",children:["Amount Per Tree ",Object(i.jsx)("span",{className:"text-danger",children:"*"})]}),Object(i.jsxs)("div",{className:"input-group",children:[Object(i.jsx)("input",{id:"input10",className:"form-control",name:"amountPerTree",onChange:t,value:a.amountPerTree}),Object(i.jsx)("div",{className:"input-group-append",children:Object(i.jsx)("span",{className:"input-group-text",children:"Lts."})})]})]})]}),a.agriculturalPractice&&a.zone&&Object.keys(a.agriculturalPractice).length>0&&Object.keys(a.zone).length>0&&Object(i.jsxs)("div",{className:"mb-3 card",children:[Object(i.jsx)("div",{className:"card-header",children:Object(i.jsxs)("h6",{className:"fw-bold",children:["DOSAGE :: ",a.agriculturalPractice.formulationName]})}),Object(i.jsxs)("div",{className:"card-body",children:[Object(i.jsxs)("div",{className:"row mb-3 text-center",children:[Object(i.jsxs)("div",{className:"col-3",children:[Object(i.jsx)("span",{className:"fw-bold",children:"Total Trees: "}),a.id?a.totalTrees:a.zone.treeCount]}),Object(i.jsxs)("div",{className:"col-3",children:[Object(i.jsx)("span",{className:"fw-bold",children:"Method: "}),n.c[parseInt(a.agriculturalPractice.method)]]}),h()&&Object(i.jsxs)("div",{className:"col-3",children:[Object(i.jsx)("span",{className:"fw-bold",children:"Quantity X Tree: "}),a.amountPerTree]}),h()&&Object(i.jsxs)("div",{className:"col-3",children:[Object(i.jsx)("span",{className:"fw-bold",children:"\xa0"}),"".concat(n.i[parseInt(a.methodId)].name)]})]}),Object(i.jsx)(o,{formData:a,_handleOnChange:t,_checkFolialDrenche:h,_checkManual:function(){return 1===parseInt(a.agriculturalPractice.method)}})]})]})]})}},477:function(e,a,t){},843:function(e,a,t){"use strict";t.r(a);var n=t(5),r=t(28),c=t(2),s=t(36),l=(t(477),t(98)),i=t(7),o=t(241),u=t(21),d=t(3);a.default=function(){var e=Object(u.i)(),a=Object(s.c)(i.o),t=Object(s.b)(),m="Edit work plan",b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";t(Object(i.f)(Object(n.a)(Object(n.a)({},a.collaboratorsFormData),{},{keyword:e})))},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";t(Object(i.h)(Object(n.a)(Object(n.a)({},a.zonesFormData),{},{keyword:e})))},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";t(Object(i.g)(Object(n.a)(Object(n.a)({},a.sectorsFormData),{},{keyword:e})))},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";t(Object(i.e)(Object(n.a)(Object(n.a)({},a.agriculturalPracticesFormData),{},{keyword:e})))};return Object(c.useEffect)((function(){document.title="".concat("El Cateo Admin"," | ").concat(m),t(Object(i.m)()),b(),j(),h(),f(),t(Object(i.n)({id:e.id}))}),[]),Object(d.jsx)("div",{className:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom",children:Object(d.jsxs)("div",{className:"col-12 p-0 content-wrapper",children:[Object(d.jsx)("div",{className:"content-header",children:Object(d.jsx)("div",{className:"container-fluid",children:Object(d.jsxs)("div",{className:"row mb-2",children:[Object(d.jsx)("div",{className:"col-sm-6",children:Object(d.jsx)("h1",{className:"m-0",children:m})}),Object(d.jsx)("div",{className:"col-sm-6",children:Object(d.jsx)(l.a,{breadCrumbs:[{name:"Dashboard",link:"/dashboard"},{name:"Work Plans",link:"/work-plans"},{name:"Edit",link:""}]})})]})})}),Object(d.jsx)("section",{className:"content",children:Object(d.jsx)("div",{className:"container-fluid",children:Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("div",{className:"col-md-12",children:Object(d.jsxs)("div",{className:"card",children:[Object(d.jsx)("div",{className:"card-header border-transparent",children:Object(d.jsx)("div",{className:"row",children:"\xa0"})}),Object(d.jsxs)("form",{name:"".concat(m,"Create"),onSubmit:function(r){r.preventDefault(),t(Object(i.w)(Object(n.a)({id:e.id},a.formData)))},children:[Object(d.jsx)("div",{className:"card-body",children:Object(d.jsx)(o.a,{formData:a.formData,_handleOnChange:function(e,a){var n=e.currentTarget.name;if(Array.isArray(a)&&a.length>0)n=[].concat(Object(r.a)(a),[e.currentTarget.name]);else if("selectRegion"===e.currentTarget.name){var c={key:"zoneId",value:""};"Z"===e.currentTarget.value&&(c={key:"sectorId",value:""}),t(Object(i.j)(c))}t(Object(i.j)({key:n,value:e.currentTarget.value}))},collaborators:a.collaborators,_fetchAllCollaborators:b,zones:a.zones,_fetchAllZones:j,sectors:a.sectors,_fetchAllSectors:h,agriculturalPractices:a.agriculturalPractices,_fetchAllAgriculturalPractices:f,formValidationData:a.formValidation,_handleFormValidation:function(e,a){t(Object(i.k)({key:e,value:a}))}})}),Object(d.jsx)("div",{className:"card-footer clearfix",children:Object(d.jsxs)("button",{className:"btn btn-sm btn-app float-end",disabled:Object.keys(a.formValidation).length>0||!0===a.loading,children:[!0===a.loading&&Object(d.jsx)("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"})," ","Save"]})})]})]})})})})})]})})}},98:function(e,a,t){"use strict";t(2),t(99);var n=t(33),r=t(3);function c(e){var a=e.breadCrumbs;return Object(r.jsx)("nav",{className:"float-sm-end","aria-label":"breadcrumb",children:Object(r.jsx)("ol",{className:"breadcrumb",children:a.map((function(e,a){var t=e.link&&""!==e.link;return Object(r.jsx)("li",{className:"breadcrumb-item ".concat(t?"active":""),children:t?Object(r.jsx)(n.b,{to:e.link,children:e.name}):e.name},a)}))})})}c.defaultProps={breadCrumbs:[{name:"Dashboard",link:"/dashboard"}]},a.a=c},99:function(e,a,t){}}]);
//# sourceMappingURL=19.105bf9dc.chunk.js.map